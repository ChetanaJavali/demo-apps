install:
	go install -v

validate:
	swagger validate ./swagger/swagger.yml

gen: validate
	git grep -lF '// Code generated by go-swagger; DO NOT EDIT.' -- swagger/restapi | xargs git rm -f
	swagger generate server \
		--target=./swagger \
		--spec=./swagger/swagger.yml \
		--exclude-main \
		--name=harmony-puzzle
	git add swagger/restapi

.PHONY: install gen validate
